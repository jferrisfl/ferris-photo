<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="referrer" content="no-referrer" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ferris Photography | Wildlife, Aerial, Real Estate, Events</title>

  <!-- SEO -->
  <meta name="description" content="Ferris Photography — wildlife, aerial drone, real estate, portrait and event photography across South Florida."/>
  <link rel="canonical" href="https://jferrisfl.github.io/ferris-photo/"/>

  <!-- Social share -->
  <meta property="og:title" content="Ferris Photography"/>
  <meta property="og:description" content="Wildlife • Drone • Real Estate • Portraits & Events"/>
  <meta property="og:type" content="website"/>
  <meta property="og:url" content="https://jferrisfl.github.io/ferris-photo/"/>
  <meta property="og:image" content="assets/share.jpg"/>

  <!-- JSON-LD -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "Jeremy Ferris",
    "url": "https://jferrisfl.github.io/ferris-photo/",
    "sameAs": [
      "https://www.facebook.com/jeremyferrisphotography",
      "https://www.instagram.com/jeremyferrisphotography/"
    ],
    "image": "assets/portrait.jpg"
  }
  </script>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet"/>

  <!-- Favicon -->
  <link rel="icon" href="assets/favicon.ico">

  <!-- Preload hero image -->
  <link rel="preload" as="image" href="assets/553239145_1319090976576435_6625720396490624142_n.jpg" imagesizes="100vw">

  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{background:#0b0b0b;color:#fff;font-family:'Montserrat',sans-serif;overflow-x:hidden}
    img{display:block;max-width:100%;height:auto}
    h1,h2,h3{font-family:'Cormorant Garamond',serif;font-weight:600}
    a{color:inherit}

    .skip{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
    .skip:focus{position:fixed;left:20px;top:20px;background:#fff;color:#000;padding:10px 14px;border-radius:8px;z-index:3000}

    /* ======= NAV (fixed + responsive) ======= */
    nav{
      position:fixed;top:0;left:0;width:100%;z-index:1000;
      padding:20px 50px;
      display:flex;justify-content:space-between;align-items:center;
      background:rgba(0,0,0,.72);
      backdrop-filter:blur(12px);
      border-bottom:1px solid rgba(255,255,255,.06);
      transition:.3s;
    }
    nav.scrolled{padding:14px 50px;background:rgba(0,0,0,.92)}
    .logo{font-size:26px;letter-spacing:3px;font-family:'Cormorant Garamond',serif}

    /* offset anchors so content isn't hidden under fixed nav */
    [id]{ scroll-margin-top: 90px; }

    .nav-wrap{display:flex;align-items:center;margin-left:auto}
    .menu-toggle{display:none;cursor:pointer;list-style:none;padding:.25rem;border-radius:.25rem}
    .menu-toggle::-webkit-details-marker{display:none}

    .nav-links{display:flex;gap:28px;list-style:none;align-items:center}
    .nav-links a{
      color:#fff;text-decoration:none;font-size:13px;
      letter-spacing:1.5px;text-transform:uppercase;opacity:.9
    }
    .nav-links a:hover{opacity:.75}

    /* Store link styling INSIDE menu */
    .nav-links a.store-link{
      opacity:1;
      padding:10px 16px;
      border-radius:999px;
      background:#fff;
      color:#000;
      font-weight:800;
      border:2px solid #fff;
      transition:.2s;
    }
    .nav-links a.store-link:hover{transform:translateY(-1px);opacity:.92}

    @media (max-width: 820px){
      nav{padding:14px 18px}
      nav.scrolled{padding:10px 18px}

      .menu-toggle{display:inline-flex;align-items:center;justify-content:center}
      .nav-wrap > .nav-links{display:none}
      .nav-wrap[open] > .nav-links{
        display:flex;
        flex-direction:column;
        align-items:flex-start;
        position:relative;
        width:min(520px, 92vw);
        margin-top:10px;
        padding-top:12px;
        border-top:1px solid rgba(255,255,255,.08);
      }
      .nav-links{gap:12px}
      .nav-links a{padding:6px 0}
      .nav-links a.store-link{padding:10px 14px;font-size:12px}
    }
    @media (min-width: 821px){
      .menu-toggle{ display:none; }
      .nav-wrap > .nav-links{ display:flex !important; }
    }

    /* ======= HERO ======= */
    .hero{height:100vh;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;background:#0a0a0a}
    .hero-bg{
      position:absolute;inset:0;
      background:
        radial-gradient(1200px 700px at 50% 15%, rgba(255,255,255,.08), rgba(0,0,0,0) 60%),
        linear-gradient(180deg,rgba(0,0,0,.35),rgba(0,0,0,.86)),
        url("assets/553239145_1319090976576435_6625720396490624142_n.jpg") center/cover no-repeat;
      transform:scale(1.02);
    }
    .hero-content{
      position:relative;z-index:1;text-align:center;
      display:flex;flex-direction:column;align-items:center;gap:18px;
      opacity:0;transform:translateY(30px);
      animation:fadeInUp 1.2s ease .08s forwards
    }
    .hero-portrait{
      width:240px;height:240px;border-radius:50%;
      object-fit:cover;
      box-shadow:0 22px 80px rgba(0,0,0,.6);
      border:3px solid rgba(255,255,255,.35)
    }
    .hero h1{
      font-size:clamp(44px,6vw,86px);
      font-weight:700;letter-spacing:-1.5px;margin-top:6px;
      background:linear-gradient(135deg,#fff 0%,#8f8f8f 100%);
      -webkit-background-clip:text;-webkit-text-fill-color:transparent;
      text-shadow:0 8px 26px rgba(0,0,0,.6)
    }
    .hero p{
      font-size:clamp(16px,2vw,24px);
      font-weight:300;color:#d2d2d2;
      text-shadow:0 4px 18px rgba(0,0,0,.55)
    }
    @keyframes fadeInUp{to{opacity:1;transform:translateY(0)}}

    /* ======= SECTIONS ======= */
    section{padding:100px 24px}
    .scroll-section{min-height:60vh;display:flex;align-items:center;justify-content:center;position:relative}
    .image-reveal{
      width:100%;
      max-width:1500px;
      height:72vh;
      position:relative;overflow:hidden;
      border-radius:26px;
      border:1px solid rgba(255,255,255,.07);
      opacity:0;transform:scale(.94);
      box-shadow:0 18px 65px rgba(0,0,0,.55);
      transition:all 1s ease;
      background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,0));
    }
    .image-reveal.visible{opacity:1;transform:scale(1)}
    .image-reveal img{width:100%;height:100%;object-fit:cover;transform:scale(1.14);transition:transform 1.5s ease}
    .image-reveal.visible img{transform:scale(1)}
    .image-caption{
      position:absolute;left:34px;bottom:34px;
      background:linear-gradient(0deg,rgba(0,0,0,.68),rgba(0,0,0,0));
      padding:14px 18px;border-radius:14px;
      opacity:0;transform:translateY(18px);
      transition:all .8s .4s;
      border:1px solid rgba(255,255,255,.08);
      backdrop-filter: blur(6px);
    }
    .image-reveal.visible .image-caption{opacity:1;transform:translateY(0)}
    .image-caption h2{font-size:clamp(34px,4vw,56px)}
    .image-caption p{font-size:16px;color:#d0d0d0}

    /* ======= ABOUT (parallax) ======= */
    .parallax-section{height:90vh;position:relative;overflow:hidden;display:flex;align-items:center;justify-content:center}
    .parallax-bg{position:absolute;top:-20%;left:0;width:100%;height:140%;background:url("assets/513825336_1248139760338224_8182710943771384829_n.jpg") center/cover no-repeat;transform:translateY(0)}
    .parallax-content{
      position:relative;z-index:1;
      text-align:center;
      padding:54px;
      background:rgba(0,0,0,.62);
      backdrop-filter:blur(12px);
      border:1px solid rgba(255,255,255,.08);
      border-radius:26px;
      max-width:1080px;
      box-shadow:0 22px 70px rgba(0,0,0,.55);
    }
    .about-wrap{display:grid;grid-template-columns:1fr 1.25fr;gap:28px;align-items:center;max-width:1100px}
    .about-photo{border-radius:18px;overflow:hidden;box-shadow:0 12px 34px rgba(0,0,0,.5);border:1px solid rgba(255,255,255,.08)}
    .about-photo img{width:100%;height:auto}
    .about-text{text-align:left}
    .about-text p{color:#d0d0d0;line-height:1.6}
    @media (max-width:900px){
      .parallax-content{padding:34px}
      .about-wrap{grid-template-columns:1fr}
      .about-text{text-align:center}
    }

    /* ======= SERVICES ======= */
    .services-section{padding:100px 24px;text-align:center;background:#0b0b0b}
    .services-section .title{font-size:clamp(38px,5vw,60px);margin-bottom:12px}
    .services-list{font-size:20px;color:#cfcfcf;letter-spacing:.5px}

    /* ======= SOCIAL (CENTERED + BIGGER) ======= */
    .social-section{
      padding:110px 24px;
      background:
        radial-gradient(900px 420px at 50% 0%, rgba(255,255,255,.06), rgba(0,0,0,0) 60%),
        #0b0b0b;
      border-top:1px solid rgba(255,255,255,.06);
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .social-wrap{
      max-width:1500px;
      margin:0 auto;
      text-align:center;
      padding:0 6px;
    }
    .social-wrap h2{
      font-size:clamp(40px,5vw,64px);
      margin-bottom:10px;
      letter-spacing:-.5px;
    }
    .social-wrap p{color:#bdbdbd;margin-bottom:26px}

    .social-card{
      max-width:1400px;
      margin:0 auto;
      background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,0));
      border:1px solid rgba(255,255,255,.08);
      border-radius:24px;
      overflow:hidden;
      box-shadow:0 18px 60px rgba(0,0,0,.55);
      text-align:left;
    }
    .social-card-top{
      display:flex;align-items:center;justify-content:space-between;
      gap:12px;
      padding:18px 18px 16px;
      border-bottom:1px solid rgba(255,255,255,.08);
      flex-wrap:wrap;
    }
    .social-card-top h3{font-size:24px;margin:0}

    .social-actions{display:flex;gap:10px;flex-wrap:wrap}
    .social-actions a{
      display:inline-block;
      padding:10px 14px;
      background:#fff;
      color:#000;
      text-decoration:none;
      border-radius:999px;
      font-weight:800;
      font-size:13px;
      letter-spacing:.5px;
      transition:.2s;
      border:2px solid #fff;
    }
    .social-actions a.secondary{
      background:rgba(0,0,0,.25);
      color:#fff;
      border:1px solid rgba(255,255,255,.14);
      font-weight:700;
    }
    .social-actions a:hover{transform:translateY(-1px);opacity:.95}

    /* IMPORTANT: Make FB plugin fill the iframe to avoid “black space” */
    .social-embed{
      display:flex;
      justify-content:center;
      align-items:center;
      padding:18px;
      background:rgba(0,0,0,.18);
    }
    .fb-frame{
      width:100%;
      max-width:1280px;         /* big + centered */
      min-height:920px;
      border:0;
      display:block;
      border-radius:18px;
      box-shadow:0 12px 40px rgba(0,0,0,.55);
      background:#fff;          /* prevents black letterboxing */
      overflow:hidden;
    }
    @media (max-width: 900px){
      .social-embed{padding:12px}
      .fb-frame{min-height:780px;border-radius:16px}
    }
    @media (max-width: 520px){
      .fb-frame{min-height:720px}
    }

    .social-note{
      color:#9a9a9a;
      font-size:13px;
      padding:14px 18px 18px;
      border-top:1px solid rgba(255,255,255,.08);
    }

    /* ======= CONTACT ======= */
    .contact-section{
      min-height:40vh;
      display:flex;align-items:center;justify-content:center;
      padding:90px 24px;
      background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(0,0,0,0)), #000;
      text-align:center
    }
    .contact-content p{color:#c9c9c9}
    .cta-button{
      display:inline-block;padding:18px 50px;background:#fff;color:#000;
      text-decoration:none;border-radius:30px;font-size:16px;font-weight:800;
      transition:.25s;border:2px solid #fff;
      margin-top:12px;
    }
    .cta-button:hover{background:#eaeaea;transform:translateY(-1px) scale(1.02)}

    /* ======= FOOTER ======= */
    footer{padding:40px 24px;text-align:center;background:#0b0b0b;border-top:1px solid rgba(255,255,255,.06)}
    footer p{color:#777;font-size:14px}
    .social-links{display:flex;gap:18px;align-items:center;justify-content:center;margin-top:12px}
    .social-links a{display:inline-flex;width:28px;height:28px;opacity:.9;transition:.2s;color:#fff}
    .social-links a:hover{opacity:1;transform:translateY(-2px) scale(1.06)}
    .social-links svg{width:100%;height:100%;fill:#fff}
    .ig-icon{fill:none;stroke:#fff;stroke-width:2.2;stroke-linecap:round;stroke-linejoin:round}

    /* ======= BACK TO TOP ======= */
    #toTop{
      position:fixed;right:18px;bottom:18px;width:46px;height:46px;border-radius:50%;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(15,15,15,.85);
      backdrop-filter:blur(10px);
      color:#fff;display:none;align-items:center;justify-content:center;
      cursor:pointer;z-index:1200;
      box-shadow:0 10px 30px rgba(0,0,0,.45);
    }
    #toTop.show{display:flex}
  </style>
</head>

<body>
  <a class="skip" href="#social">Skip to social</a>

  <!-- ======= NAV ======= -->
  <nav id="navbar" aria-label="Primary">
    <div class="logo">FERRIS</div>

    <details class="nav-wrap">
      <summary class="menu-toggle" aria-label="Open menu">
        <svg width="28" height="28" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/>
        </svg>
      </summary>

      <ul class="nav-links">
        <li><a href="#home">Home</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#services">Services</a></li>
        <li><a href="#social">Social</a></li>
        <li><a href="#contact">Contact</a></li>
        <li>
          <a class="store-link" href="https://jfphotostore.picfair.com" target="_blank" rel="noopener">Store</a>
        </li>
      </ul>
    </details>
  </nav>

  <!-- ======= HERO ======= -->
  <section class="hero" id="home">
    <div class="hero-bg"></div>
    <div class="hero-content">
      <img class="hero-portrait" src="assets/logo.jpg" alt="Ferris logo">
      <h1>Ferris Photography</h1>
      <p>Wildlife • Drone / Aerial • Real Estate • Events</p>
    </div>
  </section>

  <!-- Wildlife highlight -->
  <section class="scroll-section">
    <div class="image-reveal" data-scroll>
      <img src="assets/558494119_10241584396893785_8721236944893235527_n.jpg" alt="Orb-weaver spider on web" loading="lazy">
      <div class="image-caption">
        <h2>Wildlife</h2>
        <p>Moments of untamed beauty</p>
      </div>
    </div>
  </section>

  <!-- About -->
  <section class="parallax-section" id="about">
    <div class="parallax-bg" data-parallax></div>
    <div class="parallax-content">
      <div class="about-wrap">
        <div class="about-photo">
          <img src="assets/portrait.jpg" alt="Portrait of Jeremy Ferris">
        </div>
        <div class="about-text">
          <h2>Beyond the Lens</h2>
          <p>Every photograph tells a story of patience, passion, and the profound connection between nature and art.</p>

          <div class="social-links" role="navigation" aria-label="Social links" style="justify-content:flex-start;margin-top:16px">
            <a href="https://www.facebook.com/jeremyferrisphotography" target="_blank" rel="noopener" aria-label="Facebook">
              <svg viewBox="0 0 320 512" aria-hidden="true">
                <path d="M279.14 288l14.22-92.66h-88.91V127.9c0-25.35 12.42-50.06 52.24-50.06H295V6.26S270.43 0 246.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H56v92.66h69.28V512h100.2V288z"/>
              </svg>
            </a>
            <a href="https://www.instagram.com/jeremyferrisphotography/" target="_blank" rel="noopener" aria-label="Instagram">
              <svg viewBox="0 0 24 24" class="ig-icon" aria-hidden="true">
                <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                <circle cx="12" cy="12" r="5"></circle>
                <circle cx="17.5" cy="6.5" r="1.2"></circle>
              </svg>
            </a>
          </div>

          <div style="margin-top:14px;color:#bdbdbd;line-height:1.6;">
            South Florida based • Available for commissions, prints, and event coverage.
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Services -->
  <section class="services-section" id="services" data-scroll>
    <h2 class="title">Services</h2>
    <p class="services-list">Wildlife • Drone / Aerial • Real Estate • Portraits & Events</p>
  </section>

  <!-- Drone -->
  <section class="scroll-section">
    <div class="image-reveal" data-scroll>
      <img src="assets/drone.jpg" alt="Aerial drone shot over South Florida coastline at golden hour" loading="lazy">
      <div class="image-caption">
        <h2>Drone / Aerial</h2>
        <p>Perspective from above</p>
      </div>
    </div>
  </section>

  <!-- Landscapes -->
  <section class="scroll-section">
    <div class="image-reveal" data-scroll>
      <img src="assets/552910285_1319090733243126_6024900471807888045_n.jpg" alt="Garden pond and bridge landscape" loading="lazy">
      <div class="image-caption">
        <h2>Landscapes</h2>
        <p>Where earth meets sky</p>
      </div>
    </div>
  </section>

  <!-- Flowers -->
  <section class="scroll-section">
    <div class="image-reveal" data-scroll>
      <img src="assets/flower2.jpg" alt="Flower study" loading="lazy">
      <div class="image-caption">
        <h2>Flowers</h2>
        <p>Color, form, and delicate detail</p>
      </div>
    </div>
  </section>

  <!-- ======= SOCIAL ======= -->
  <section class="social-section" id="social" aria-label="Social media">
    <div class="social-wrap">
      <h2>Social</h2>
      <p>Scroll my latest Facebook updates — follow on Instagram — and shop prints in the Store.</p>

      <div class="social-card">
        <div class="social-card-top">
          <h3>Facebook Feed</h3>

          <div class="social-actions" aria-label="Social actions">
            <a href="https://www.facebook.com/jeremyferrisphotography" target="_blank" rel="noopener">View on Facebook</a>
            <a class="secondary" href="https://www.instagram.com/jeremyferrisphotography/" target="_blank" rel="noopener">Follow on Instagram</a>
            <a class="secondary" href="https://jfphotostore.picfair.com" target="_blank" rel="noopener">Visit Store</a>
          </div>
        </div>

        <div class="social-embed">
          <!-- We build the SRC dynamically so FB width matches the actual iframe width (fixes black space) -->
          <iframe
            class="fb-frame"
            id="fbFrame"
            title="Facebook Page Timeline"
            loading="lazy"
            referrerpolicy="no-referrer"
            data-page="https://www.facebook.com/jeremyferrisphotography"
            data-tabs="timeline"
            allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share">
          </iframe>
        </div>

        <div class="social-note">
          Note: Instagram doesn’t provide a free official “full profile feed” embed, so the Instagram button links directly to the profile.
        </div>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section class="contact-section" id="contact" aria-label="Contact">
    <div class="contact-content">
      <h2 style="font-size:clamp(38px,5vw,60px);margin-bottom:10px;">Let's Work Together</h2>
      <p>Available for commissions, prints, and event coverage</p>

      <a href="mailto:jferrisfl@gmail.com" class="cta-button">Email Me</a>

      <p style="margin-top:14px;font-size:16px;color:#bdbdbd;">
        Or email me directly:
        <a href="mailto:jferrisfl@gmail.com" style="color:#fff;text-decoration:underline;">jferrisfl@gmail.com</a>
      </p>

      <p style="margin-top:12px;font-size:16px;color:#bdbdbd;">
        Prints & downloads:
        <a href="https://jfphotostore.picfair.com" target="_blank" rel="noopener" style="color:#fff;text-decoration:underline;">
          jfphotostore.picfair.com
        </a>
      </p>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <p>&copy; 2025 Ferris Photography. All rights reserved. &nbsp;|&nbsp;
      <a href="mailto:jferrisfl@gmail.com" style="color:#aaa;text-decoration:none;">jferrisfl@gmail.com</a>
    </p>

    <div class="social-links" role="navigation" aria-label="Social links">
      <a href="https://www.facebook.com/jeremyferrisphotography" target="_blank" rel="noopener" aria-label="Facebook">
        <svg viewBox="0 0 320 512" aria-hidden="true">
          <path d="M279.14 288l14.22-92.66h-88.91V127.9c0-25.35 12.42-50.06 52.24-50.06H295V6.26S270.43 0 246.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H56v92.66h69.28V512h100.2V288z"/>
        </svg>
      </a>
      <a href="https://www.instagram.com/jeremyferrisphotography/" target="_blank" rel="noopener" aria-label="Instagram">
        <svg viewBox="0 0 24 24" class="ig-icon" aria-hidden="true">
          <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
          <circle cx="12" cy="12" r="5"></circle>
          <circle cx="17.5" cy="6.5" r="1.2"></circle>
        </svg>
      </a>
    </div>
  </footer>

  <!-- Back to top -->
  <button id="toTop" aria-label="Back to top">↑</button>

  <script>
    // Reveal on scroll
    const observer = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{ if(e.isIntersecting) e.target.classList.add('visible'); });
    }, { threshold: .2, rootMargin: '0px 0px -100px 0px' });
    document.querySelectorAll('[data-scroll]').forEach(el=>observer.observe(el));

    // Parallax
    window.addEventListener('scroll',()=>{
      const el=document.querySelector('[data-parallax]');
      if(!el) return;
      const rect=el.parentElement.getBoundingClientRect();
      if(rect.top<window.innerHeight && rect.bottom>0){
        el.style.transform=`translateY(${(rect.top - window.innerHeight)*0.3}px)`;
      }
    });

    // Navbar + Back-to-top
    const navbar=document.getElementById('navbar');
    const toTop=document.getElementById('toTop');
    window.addEventListener('scroll',()=>{
      if(window.scrollY>50) navbar.classList.add('scrolled'); else navbar.classList.remove('scrolled');
      if(window.scrollY>600) toTop.classList.add('show'); else toTop.classList.remove('show');
    });
    toTop.addEventListener('click',()=>window.scrollTo({top:0,behavior:'smooth'}));

    // Smooth anchors (only close hamburger on mobile)
    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener('click',(e)=>{
        e.preventDefault();
        const t=document.querySelector(a.getAttribute('href'));
        if(t) t.scrollIntoView({behavior:'smooth',block:'start'});
        const details = a.closest('details');
        if(details && window.matchMedia('(max-width: 820px)').matches){
          details.removeAttribute('open');
        }
      });
    });

    // Keep <details> state in sync on resize: open on desktop, closed on mobile
    (function () {
      const navDetails = document.querySelector('.nav-wrap');
      if (!navDetails) return;
      function syncNav() {
        if (window.matchMedia('(min-width: 821px)').matches) {
          navDetails.setAttribute('open', '');
        } else {
          navDetails.removeAttribute('open');
        }
      }
      syncNav();
      window.addEventListener('resize', syncNav);
    })();

    // FACEBOOK: Build SRC with a width that matches the actual iframe width (fixes “black side”)
    (function(){
      const social = document.getElementById('social');
      const iframe = document.getElementById('fbFrame');
      if(!social || !iframe) return;

      const buildSrc = () => {
        const page = iframe.dataset.page;
        const tabs = iframe.dataset.tabs || 'timeline';

        // compute width based on the iframe’s rendered width, capped for best look
        const w = Math.min(1280, Math.max(320, Math.floor(iframe.getBoundingClientRect().width)));
        const h = Math.min(980, Math.max(720, Math.floor(iframe.getBoundingClientRect().height || 920)));

        const src =
          `https://www.facebook.com/plugins/page.php?` +
          `href=${encodeURIComponent(page)}` +
          `&tabs=${encodeURIComponent(tabs)}` +
          `&width=${w}` +
          `&height=${h}` +
          `&small_header=true` +
          `&adapt_container_width=true` +
          `&hide_cover=false` +
          `&show_facepile=false`;

        iframe.src = src;
      };

      const loadOnce = () => {
        if(iframe.getAttribute('src')) return;
        buildSrc();
      };

      // Lazy-load when close to view
      const io = new IntersectionObserver((entries)=>{
        entries.forEach(e=>{
          if(e.isIntersecting){
            loadOnce();
            io.disconnect();
          }
        });
      }, { rootMargin: "600px 0px" });

      io.observe(social);

      // If someone resizes after it loads, rebuild once (prevents odd letterboxing)
      let resizeTimer = null;
      window.addEventListener('resize', ()=>{
        if(!iframe.getAttribute('src')) return;
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(buildSrc, 250);
      });
    })();
  </script>
</body>
</html>
